<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desmos Helper</title>
    <link rel="shortcut icon" href="data:image/webp;base64,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" type="image/x-icon">
</head>
<style>
    body {
        background-color: black;
        background-image: url('https://st4.depositphotos.com/1885147/41179/i/450/depositphotos_411796686-stock-photo-abstract-architectural-wallpaper-design-digital.jpg');
        background-size: cover;
        color: white;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .tint {
        background-color: rgba(0, 0, 0, 0.639);
        background: linear-gradient(0deg, rgba(0, 0, 0, 0.639), rgba(0, 0, 0, 0.353));
        margin: 0;
        padding: 0;
        top: 0;
        left: 0;
        position: fixed;
        width: 100%;
        height: 100%;
        z-index: -1;
    }

    .nav {
        position: fixed;
        margin: 0;
        padding: 0;
        top: 0;
        left: 0;
        width: 100%;
        height: 69px;
        background-color: rgb(0, 192, 0);
    }
    .nav h3 {
        width: 100%;
        margin-top: 10px;
        text-align: center;
        font-size: 30px;
        font-weight: normal;
    }

    .content {
        width: fit-content;
        margin: auto;
        margin-top: 140px;
        background-color: rgba(255, 255, 255, 0.202);
        backdrop-filter: blur(10px);
        padding: 30px;
        padding-left: 70px;
        padding-right: 70px;
        border-radius: 10px;
    }

    button {
        border: none;
        border-radius: 5px;
        background-color: rgb(26, 202, 26);
        color: white;
        padding: 10px;
        cursor: pointer;

        transition: ease-in-out 0.25s;
    }
    button:hover {
        box-shadow: rgb(0, 255, 38) 0px 0px 20px;
        padding: 12px;
    }

    input {
        border: none;
        border-radius: 5px;
        padding: 10px;
    }
    input.trans {
        width: 85px;
    }
</style>
<body>
    <div class="tint"></div>
    <div class="nav">
        <h3>Desmos Helper</h3>
    </div>
    <div class="content">
        <p>Function [Copy+Paste from Desmos]</p>
        <input id="function" value="x^2"></input>
        <button id="button-f">Copy Function</button>
        <p>Rotate Degrees [Set Desmos to Degrees]</p>
        <input id="input" value="0"></input>
        <button id="button-x" onclick="">Copy RX</button>
        <button id="button-y">Copy RY</button>
        <p>Translation [X Y]</p>
        <input class="trans" id="trans-x" value="0"></input>
        <input class="trans" id="trans-y" value="0"></input>
    </div>
</body>
<script>
    var text = document.getElementById('input')
    var func = document.getElementById('function')
    var btnX = document.getElementById('button-x')
    var btnY = document.getElementById('button-y')
    var btnF = document.getElementById('button-f')
    var btnTX = document.getElementById('trans-x')
    var btnTY = document.getElementById('trans-y')

    btnX.addEventListener('click', (e) => {
        var a = get(text.value)
        var v = 'xcos('+a+')-ysin('+a+')'
        navigator.clipboard.writeText(v)
        console.log(v)
    })

    btnY.addEventListener('click', (e) => {
        var a = get(text.value)
        var v = 'xsin('+a+')+ycos('+a+')'
        navigator.clipboard.writeText(v)
        console.log(v)
    })

    btnF.addEventListener('click', (e) => {
        var a = get(text.value)
        var tx = get(btnTX.value)
        var ty = get(btnTY.value)
        // var x = '((xcos('+a+')-ysin('+a+'))-'+tx+')'
        // var y = '((xsin('+a+')+ycos('+a+'))-'+ty+')'
        var x = simplify('((x-'+tx+')cos('+a+')-(y-'+ty+')sin('+a+'))')
        var y = simplify('((x-'+tx+')sin('+a+')+(y-'+ty+')cos('+a+'))')
        var v = func.value
            .replaceAll('x', '%X%')
            .replaceAll('y', '%Y%')
            .replaceAll('%X%', x)
            .replaceAll('%Y%', y)
        if (!func.value.includes('y'))
            v = y+'='+v
        navigator.clipboard.writeText(v)
        console.log(v)
    })

    function get(value) {
        return value.length == 0 ? 0 : value
    }

    function simplify(str) { // not for desmos inputted strings, only for this site only
        return str
            .replaceAll('--', '+')
            .replaceAll('+-', '-')
            .replaceAll('-+', '-')
            .replaceAll('++', '+')
            .replaceAll('cos(-', 'cos(')
            .replaceAll(/\([xy][+-]0\)sin\(0\)/gm, '0') // fix sin0
            .replaceAll(/\(([xy])[+-]0\)cos\(0\)/gm, '$1') // fix cos0
            .replaceAll(/[+-]0\)/gm, '\)')
            .replaceAll(/\(0\+([xy])\)/gm, '\($1\)')
            .replaceAll(/\(0-([xy])\)/gm, '\(-$1\)')
            .replaceAll(/\(([xy])\)/gm, '$1') // fix single var parenthesis
        }
</script>
</html>